/*!
 * Mashroom Theme Avatar Component
 * Psychedelic mushroom-inspired theme with trippy visuals
 */

// Import required tools and settings
@use '../02-tools/tools.trippy-effects' as trippy;
@use '../02-tools/tools.psychedelic-gradients' as gradients;
@use '../01-settings/settings.colors' as *;

// Psychedelic avatar animations
@keyframes avatar-pulse {
  0%,
  100% {
    box-shadow:
      0 0 5px rgba(157, 0, 255, 0.5),
      0 0 10px rgba(157, 0, 255, 0.3);
  }
  50% {
    box-shadow:
      0 0 15px rgba(157, 0, 255, 0.8),
      0 0 25px rgba(255, 32, 133, 0.6),
      0 0 35px rgba(255, 187, 0, 0.4);
  }
}

@keyframes avatar-rotate {
  0% {
    transform: rotate(0deg);
  }
  100% {
    transform: rotate(360deg);
  }
}

.c-avatar {
  // Add psychedelic glow effect
  @include trippy.trippy-glow($primary-6, 8px);

  // Add floating animation for a magical effect
  @include trippy.float-animation();

  // Add color shift for extra psychedelic effect
  @include trippy.color-shift();

  // Add subtle breathing effect
  @include trippy.psychedelic-breathing();

  // Add pulse animation
  animation: avatar-pulse 2s infinite;

  // Apply rainbow gradient border
  border: 2px solid transparent;
  background:
    linear-gradient(white, white) padding-box,
    linear-gradient(90deg, #9d00ff, #d080ff, #00ff9d, #ffbb00, #ff2085, #9d00ff) border-box;
  background-size: 300% 300%;

  // Hover state with enhanced psychedelic effects
  &:hover {
    @include trippy.trippy-glow($red-4, 15px);
    transform: scale(1.1) rotate(5deg);
    transition: all 0.3s ease;
    background:
      linear-gradient(white, white) padding-box,
      linear-gradient(90deg, #ff2085, #ffbb00, #00ff9d, #d080ff, #9d00ff, #ff2085) border-box;
    animation:
      avatar-pulse 0.5s infinite,
      avatar-rotate 2s linear infinite;
  }

  // Grouped avatars
  .c-avatar-group & {
    border-color: rgba($black, 0.2);
    box-shadow: 0 0 5px rgba($primary-6, 0.5);
  }

  // Psychedelic variant
  &--psychedelic {
    @include gradients.rainbow-gradient();
    background-size: 400% 400%;
    border: 2px solid transparent;
    animation:
      rainbow-shift 3s ease infinite,
      avatar-rotate 10s linear infinite;

    &:hover {
      animation:
        rainbow-shift 1s ease infinite,
        avatar-rotate 2s linear infinite;
      @include trippy.trippy-glow(white, 20px);
    }
  }

  // Glowing variant
  &--glow {
    @include trippy.trippy-glow($purple-4, 20px);
    animation: avatar-pulse 1s infinite;

    &:hover {
      @include trippy.trippy-glow($yellow-4, 30px);
      animation: avatar-pulse 0.3s infinite;
    }
  }

  // Circular variant with rotation
  &--circular {
    border-radius: 50%;

    &:hover {
      animation: avatar-rotate 1s linear infinite;
    }
  }
}
