// Component: AtomixGlass
// =============================================================================

.c-atomix-glass {
  position: relative;

  // CSS custom property defaults
  --ag-scoped-radius: var(--atomix-radius-md, 16px);
  --ag-scoped-transform: none;
  --ag-scoped-transition: opacity 0.2s ease-out;
  --ag-scoped-position: absolute;
  --ag-scoped-inset: 0;

  // Base layer styles for all effect layers (hover, border, overlay)
  &__hover-1,
  &__hover-2,
  &__hover-3,
  &__base,
  &__overlay {
    position: absolute;
    inset: 0;
    pointer-events: none;
    border-radius: var(--ag-scoped-radius);
    transform: var(--ag-scoped-transform);
    transition: var(--ag-scoped-transition);
  }

  // Interactive hover effects
  &__hover-1,
  &__hover-2,
  &__hover-3 {
    mix-blend-mode: overlay;
  }

  &__hover-1 {
    transition: opacity 0.2s ease-out;
  }

  &__hover-2 {
    transition: opacity 0.4s ease-out;
  }

  &__hover-3 {
    transition: opacity 0.6s ease-out;
  }

  // Base and overlay layers for over-light mode
  &__base {
    mix-blend-mode: soft-light;
  }

  &__overlay {
    mix-blend-mode: overlay;
  }

  &__overlay-highlight {
    position: absolute;
    inset: 2px;
    pointer-events: none;
    border-radius: var(--ag-scoped-radius);
    transform: var(--ag-scoped-transform);
    transition: var(--ag-scoped-transition);
    mix-blend-mode: screen;
  }

  // Border effect layers
  &__border-1,
  &__border-2 {
    position: var(--ag-scoped-position);
    padding: var(--atomix-glass-border-width, 1.5px);
    -webkit-mask:
      linear-gradient(#000 0 0) content-box,
      linear-gradient(#000 0 0);
    -webkit-mask-composite: xor;
    mask:
      linear-gradient(#000 0 0) content-box,
      linear-gradient(#000 0 0);
    mask-composite: exclude;
    pointer-events: none;
    border-radius: var(--ag-scoped-radius);
    transform: var(--ag-scoped-transform);
    transition: var(--ag-scoped-transition);
  }

  &__border-1 {
    opacity: 0.2;
    mix-blend-mode: screen;
    box-shadow:
      0 0 0.5px rgba(255, 255, 255, 0.5) inset,
      0 1px 3px 0.5px rgba(0, 0, 0, 0.5),
      0 1px 3px 0.5px rgba(0, 0, 0, 0.5) inset;
  }

  &__border-2 {
    box-shadow:
      0 0 0.5px rgba(255, 255, 255, 0.5) inset,
      0 1px 3px 0.5px rgba(0, 0, 0, 0.5);
  }

  // Container styles
  &__container {
    position: relative;
  }

  &__inner {
    position: relative;
    // Padding and border-radius are set dynamically via inline styles
  }

  &__filter {
    position: absolute;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    pointer-events: none;
  }

  &__filter-overlay {
    position: absolute;
    inset: 0;
    pointer-events: none;
    // backdrop-filter and border-radius are set dynamically via inline styles
  }

  &__filter-shadow {
    position: absolute;
    inset: 1.5px;
    pointer-events: none;
    // box-shadow, opacity, background, and border-radius are set dynamically via inline styles
  }

  &__content {
    position: relative;
  }

  // State modifiers
  &--reduced-motion {
    --ag-scoped-transition: none;

    * {
      transition: none !important;
    }
  }

  &--high-contrast {
    border: var(--atomix-spacing-0-5, 2px) solid currentColor;
    outline: var(--atomix-spacing-0-5, 2px) solid transparent;
    outline-offset: var(--atomix-spacing-0-5, 2px);
  }

  &--disabled-effects {
    --ag-scoped-transform: none;
    --ag-scoped-transition: none;
  }

  // Responsive and accessibility
  @media (prefers-reduced-motion: reduce) {
    --ag-scoped-transition: none;

    * {
      transition: none !important;
    }
  }

  @media (prefers-contrast: high) {
    border-width: 2px;
  }
}
