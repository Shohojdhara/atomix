import{j as e}from"./jsx-runtime-BjG_zV1W.js";import{I as o}from"./Icon-k4CeN--q.js";import{A as x}from"./Avatar-D4L1Tlli.js";import{n as a}from"./components-BrxBU25R.js";import{r as C}from"./index-BVDOR7y2.js";const I=({onSendMessage:i}={})=>{const[r,d]=C.useState(""),l=t=>{d(t.target.value)},m=t=>{t.preventDefault(),r.trim()&&i&&(i(r.trim()),d(""))};return{inputValue:r,setInputValue:d,handleInputChange:l,handleSubmit:m,handleKeyDown:t=>{t.key==="Enter"&&!t.shiftKey&&(t.preventDefault(),m(t))}}},c=({messages:i=[],otherAvatar:r,selfAvatar:d,otherName:l,width:m="100%",onSendMessage:S,placeholder:t="Type a message",className:f="",bodyHeight:u,disabled:n=!1,id:N})=>{const{inputValue:g,handleInputChange:E,handleSubmit:A,handleKeyDown:y}=I({onSendMessage:S}),p=N||`messages-${Math.random().toString(36).substr(2,9)}`,h=`${p}-input`;return e.jsxs("div",{className:`${a.CLASSES.BASE} ${n?"is-disabled":""} ${f}`,style:{"--atomix-messages-width":m},id:p,"aria-label":"Chat messages",role:"log","aria-live":"polite",children:[e.jsx("div",{className:a.CLASSES.BODY,style:u?{"--atomix-messages-body-height":u}:void 0,children:i.map(s=>e.jsxs("div",{className:`${a.CLASSES.CONTENT} ${s.isSelf?a.CLASSES.CONTENT_SELF:""}`,"aria-label":`${s.isSelf?"You":l||"Other person"} sent a message at ${s.time}`,children:[e.jsx(x,{src:s.isSelf?d:r,size:"xl",circle:!0,className:a.CLASSES.AVATAR,alt:s.isSelf?"Your avatar":`${l||"Other person"}'s avatar`}),e.jsxs("div",{className:a.CLASSES.ITEMS,children:[!s.isSelf&&l&&e.jsx("div",{className:a.CLASSES.NAME,children:l}),s.text&&e.jsxs("div",{className:a.CLASSES.TEXT,children:[s.text,e.jsx("span",{className:a.CLASSES.TIME,"aria-label":`Sent at ${s.time}`,children:s.time})]}),s.image&&e.jsx("img",{className:a.CLASSES.IMAGE,src:s.image,alt:"Message attachment",loading:"lazy"}),s.file&&e.jsxs("div",{className:a.CLASSES.FILE,"aria-label":`File attachment: ${s.file.name}, size: ${s.file.size}`,children:[e.jsx("span",{className:a.CLASSES.FILE_ICON,children:e.jsx(o,{name:"File","aria-hidden":"true"})}),e.jsxs("div",{className:a.CLASSES.FILE_DETAILS,children:[e.jsx("div",{className:a.CLASSES.FILE_NAME,children:s.file.name}),e.jsx("div",{className:a.CLASSES.FILE_SIZE,children:s.file.size})]})]})]})]},s.id))}),e.jsxs("form",{className:a.CLASSES.FORM,onSubmit:A,"aria-label":"Message input form",children:[e.jsxs("div",{className:a.CLASSES.INPUT_GROUP,children:[e.jsx("label",{htmlFor:h,className:"u-visually-hidden",children:"Type a message"}),e.jsx("input",{id:h,type:"text",className:a.CLASSES.INPUT,placeholder:t,value:g,onChange:E,onKeyDown:y,disabled:n,"aria-label":"Message input"}),e.jsxs("div",{className:a.CLASSES.OPTIONS,"aria-label":"Message options",children:[e.jsx("button",{type:"button",className:a.CLASSES.OPTION,"aria-label":"Attach file",disabled:n,children:e.jsx(o,{name:"PaperclipHorizontal","aria-hidden":"true",className:a.CLASSES.OPTION_ICON})}),e.jsx("button",{type:"button",className:a.CLASSES.OPTION,"aria-label":"Attach image",disabled:n,children:e.jsx(o,{name:"Image","aria-hidden":"true",className:a.CLASSES.OPTION_ICON})}),e.jsx("button",{type:"button",className:a.CLASSES.OPTION,"aria-label":"Insert link",disabled:n,children:e.jsx(o,{name:"Link","aria-hidden":"true",className:a.CLASSES.OPTION_ICON})})]})]}),e.jsx("button",{type:"submit",className:a.CLASSES.SUBMIT,"aria-label":"Send message",disabled:n,children:e.jsx(o,{name:"PaperPlaneTilt","aria-hidden":"true",size:24})})]})]})};c.displayName="Messages";try{c.displayName="Messages",c.__docgenInfo={description:"Messages component for displaying a chat interface with messages, images, and file attachments",displayName:"Messages",props:{messages:{defaultValue:{value:"[]"},description:"Array of message items to display",name:"messages",required:!1,type:{name:"MessageItem[]"}},otherAvatar:{defaultValue:null,description:"Avatar image URL for the other person",name:"otherAvatar",required:!1,type:{name:"string"}},selfAvatar:{defaultValue:null,description:"Avatar image URL for the current user",name:"selfAvatar",required:!1,type:{name:"string"}},otherName:{defaultValue:null,description:"Name of the other person",name:"otherName",required:!1,type:{name:"string"}},width:{defaultValue:{value:"100%"},description:"Custom width for the messages container",name:"width",required:!1,type:{name:"string"}},onSendMessage:{defaultValue:null,description:"Callback when a new message is sent",name:"onSendMessage",required:!1,type:{name:"((text: string) => void)"}},placeholder:{defaultValue:{value:"Type a message"},description:"Placeholder text for the input field",name:"placeholder",required:!1,type:{name:"string"}},bodyHeight:{defaultValue:null,description:"Maximum height for the messages body",name:"bodyHeight",required:!1,type:{name:"string"}},id:{defaultValue:null,description:"Unique identifier for the messages component",name:"id",required:!1,type:{name:"string"}},className:{defaultValue:{value:""},description:"Additional CSS class names",name:"className",required:!1,type:{name:"string"}},disabled:{defaultValue:{value:"false"},description:"Component disabled state",name:"disabled",required:!1,type:{name:"boolean"}}}}}catch{}try{MessagesProps.displayName="MessagesProps",MessagesProps.__docgenInfo={description:"Messages component properties",displayName:"MessagesProps",props:{}}}catch{}export{c as M};
