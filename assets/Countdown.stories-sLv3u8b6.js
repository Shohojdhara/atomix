import{j as a}from"./jsx-runtime-BjG_zV1W.js";import{r as n,e as k}from"./index-BVDOR7y2.js";function P(s){const e=Math.max(0,Math.floor(s/1e3)),m=Math.floor(e/86400),p=Math.floor(e%86400/3600),f=Math.floor(e%3600/60),o=e%60;return{days:m,hours:p,minutes:f,seconds:o}}const i=n.forwardRef(({target:s,show:e=["days","hours","minutes","seconds"],separator:m=":",focused:p=!1,className:f="",onComplete:o},C)=>{const j=typeof s=="string"?new Date(s):s,[q,F]=n.useState(()=>new Date),[c,M]=n.useState(!1);n.useEffect(()=>{if(c)return;const r=setInterval(()=>{F(new Date)},1e3);return()=>clearInterval(r)},[c]);const g=j.getTime()-q.getTime(),{days:T,hours:V,minutes:E,seconds:I}=P(g);n.useEffect(()=>{g<=0&&!c&&(M(!0),o&&o())},[g,c,o]);const t=[];return e.includes("days")&&t.push({label:"Days",value:T}),e.includes("hours")&&t.push({label:"Hours",value:V}),e.includes("minutes")&&t.push({label:"Minutes",value:E}),e.includes("seconds")&&t.push({label:"Seconds",value:I}),a.jsx("div",{ref:C,className:`c-countdown${p?" c-countdown--focused":""} ${f}`.trim(),children:t.map((r,O)=>a.jsxs(k.Fragment,{children:[a.jsxs("div",{className:"c-countdown__time",children:[a.jsx("span",{className:"c-countdown__time-count",children:String(r.value).padStart(2,"0")}),a.jsx("span",{className:"c-countdown__time-label",children:r.label})]}),O<t.length-1&&a.jsx("span",{className:"c-countdown__separator",children:m})]},r.label))})});i.displayName="Countdown";try{i.displayName="Countdown",i.__docgenInfo={description:"",displayName:"Countdown",props:{target:{defaultValue:null,description:"Target date/time as a Date or ISO string",name:"target",required:!0,type:{name:"string | Date"}},show:{defaultValue:{value:"['days', 'hours', 'minutes', 'seconds']"},description:"Show days, hours, minutes, seconds",name:"show",required:!1,type:{name:'("days" | "hours" | "minutes" | "seconds")[]'}},separator:{defaultValue:{value:":"},description:"Separator string",name:"separator",required:!1,type:{name:"string"}},focused:{defaultValue:{value:"false"},description:"Focused style",name:"focused",required:!1,type:{name:"boolean"}},className:{defaultValue:{value:""},description:"Custom className",name:"className",required:!1,type:{name:"string"}},onComplete:{defaultValue:null,description:"Optional callback when countdown reaches zero",name:"onComplete",required:!1,type:{name:"(() => void)"}}}}}catch{}const z={title:"Components/Countdown",component:i,parameters:{layout:"centered"},argTypes:{target:{control:"date",description:"Target date/time"},show:{control:"check",options:["days","hours","minutes","seconds"],description:"Fields to show"},separator:{control:"text",description:"Separator string"},focused:{control:"boolean",description:"Focused style"}}},h=new Date(Date.now()+1e3*60*60*24+1e3*60*45+1e3*30),u={args:{target:h}},d={args:{target:h,focused:!0}},l={args:{target:h,separator:" | ",show:["hours","minutes","seconds"]}};var w,y,_;u.parameters={...u.parameters,docs:{...(w=u.parameters)==null?void 0:w.docs,source:{originalSource:`{
  args: {
    target: futureDate
  }
}`,...(_=(y=u.parameters)==null?void 0:y.docs)==null?void 0:_.source}}};var v,D,S;d.parameters={...d.parameters,docs:{...(v=d.parameters)==null?void 0:v.docs,source:{originalSource:`{
  args: {
    target: futureDate,
    focused: true
  }
}`,...(S=(D=d.parameters)==null?void 0:D.docs)==null?void 0:S.source}}};var x,N,b;l.parameters={...l.parameters,docs:{...(x=l.parameters)==null?void 0:x.docs,source:{originalSource:`{
  args: {
    target: futureDate,
    separator: ' | ',
    show: ['hours', 'minutes', 'seconds']
  }
}`,...(b=(N=l.parameters)==null?void 0:N.docs)==null?void 0:b.source}}};const H=["Default","Focused","CustomSeparator"];export{l as CustomSeparator,u as Default,d as Focused,H as __namedExportsOrder,z as default};
