import{j as a}from"./jsx-runtime-BjG_zV1W.js";import{r}from"./index-BVDOR7y2.js";import{l}from"./components-BrxBU25R.js";function R(n){const t={size:"md",disabled:!1,invalid:!1,valid:!1,...n};return{defaultProps:t,generateSelectClass:p=>{const{size:m=t.size,disabled:c=t.disabled,invalid:v=t.invalid,valid:d=t.valid,className:E=""}=p,h=m==="md"?"":m==="sm"?l.CLASSES.SMALL:l.CLASSES.LARGE;let u="";v?u=l.CLASSES.INVALID:d&&(u=l.CLASSES.VALID);const f=c?l.CLASSES.DISABLED:"";return`${l.CLASSES.BASE} ${h} ${u} ${f} ${E}`.trim()}}}const x=({options:n=[],value:t,onChange:o,onBlur:p,onFocus:m,placeholder:c="Select an option",className:v="",disabled:d=!1,required:E=!1,id:h,name:u,size:f="md",invalid:b=!1,valid:A=!1,multiple:N=!1,ariaLabel:q,ariaDescribedBy:V})=>{const{generateSelectClass:I}=R({size:f,disabled:d,invalid:b,valid:A}),j=I({className:v,size:f,disabled:d,invalid:b,valid:A}),[S,y]=r.useState(!1),[T,C]=r.useState(c),L=r.useRef(null),_=r.useRef(null),s=r.useRef(null),g=r.useRef(null);r.useEffect(()=>{if(t){const e=n.find(i=>i.value===t);e&&C(e.label)}else C(c)},[t,n,c]),r.useEffect(()=>{const e=i=>{L.current&&!L.current.contains(i.target)&&(y(!1),s.current&&(s.current.style.height="0px"))};return document.addEventListener("mousedown",e),()=>{document.removeEventListener("mousedown",e)}},[]);const $=()=>{d||(!S&&s.current&&_.current?s.current.style.height=`${_.current.clientHeight}px`:s.current&&(s.current.style.height="0px"),y(!S))},O=e=>{if(C(e.label),y(!1),s.current&&(s.current.style.height="0px"),g.current&&(g.current.value=e.value),o){const i={target:{name:u,value:e.value}};o(i)}};return a.jsxs("div",{className:`${j} ${S?l.CLASSES.IS_OPEN:""}`,ref:L,"aria-expanded":S,children:[a.jsxs("select",{ref:g,value:t,onChange:o,onBlur:p,onFocus:m,disabled:d,required:E,id:h,name:u,multiple:N,"aria-label":q,"aria-describedby":V,"aria-invalid":b,style:{display:"none"},children:[c&&a.jsx("option",{value:"",disabled:!0,children:c}),n.map(e=>a.jsx("option",{value:e.value,disabled:e.disabled,children:e.label},e.value))]}),a.jsx("div",{className:l.CLASSES.SELECTED,onClick:$,"aria-disabled":d,children:T}),a.jsx("i",{className:`${l.CLASSES.ICON_CARET} ${l.CLASSES.TOGGLE_ICON}`}),a.jsx("div",{className:l.CLASSES.SELECT_BODY,ref:s,style:{height:0},children:a.jsx("div",{className:l.CLASSES.SELECT_PANEL,ref:_,children:a.jsx("ul",{className:l.CLASSES.SELECT_ITEMS,children:n.map((e,i)=>a.jsx("li",{className:l.CLASSES.SELECT_ITEM,"data-value":e.value,onClick:()=>!e.disabled&&O(e),children:a.jsxs("label",{htmlFor:`SelectItem${i}`,className:"c-checkbox",children:[a.jsx("input",{type:"checkbox",id:`SelectItem${i}`,className:"c-checkbox__input c-select__item-input",checked:t===e.value,readOnly:!0,disabled:e.disabled}),a.jsx("div",{className:"c-select__item-label",children:e.label})]})},e.value))})})})]})};x.displayName="Select";try{x.displayName="Select",x.__docgenInfo={description:"Select - A component for dropdown selection",displayName:"Select",props:{options:{defaultValue:{value:"[]"},description:"Select options",name:"options",required:!1,type:{name:"SelectOption[]"}},value:{defaultValue:null,description:"Selected value(s)",name:"value",required:!1,type:{name:"string | string[]"}},onChange:{defaultValue:null,description:"Change handler",name:"onChange",required:!1,type:{name:"((event: ChangeEvent<HTMLSelectElement>) => void)"}},onBlur:{defaultValue:null,description:"Blur handler",name:"onBlur",required:!1,type:{name:"((event: FocusEvent<HTMLSelectElement, Element>) => void)"}},onFocus:{defaultValue:null,description:"Focus handler",name:"onFocus",required:!1,type:{name:"((event: FocusEvent<HTMLSelectElement, Element>) => void)"}},placeholder:{defaultValue:{value:"Select an option"},description:"Placeholder text",name:"placeholder",required:!1,type:{name:"string"}},required:{defaultValue:{value:"false"},description:"Whether the select is required",name:"required",required:!1,type:{name:"boolean"}},id:{defaultValue:null,description:"Select ID",name:"id",required:!1,type:{name:"string"}},name:{defaultValue:null,description:"Select name",name:"name",required:!1,type:{name:"string"}},size:{defaultValue:{value:"md"},description:"Size variant",name:"size",required:!1,type:{name:"enum",value:[{value:'"sm"'},{value:'"md"'},{value:'"lg"'}]}},invalid:{defaultValue:{value:"false"},description:"Whether the select is invalid",name:"invalid",required:!1,type:{name:"boolean"}},valid:{defaultValue:{value:"false"},description:"Whether the select is valid",name:"valid",required:!1,type:{name:"boolean"}},multiple:{defaultValue:{value:"false"},description:"Whether multiple options can be selected",name:"multiple",required:!1,type:{name:"boolean"}},ariaLabel:{defaultValue:null,description:"Accessible label (if no visible label)",name:"ariaLabel",required:!1,type:{name:"string"}},ariaDescribedBy:{defaultValue:null,description:"ID of element that describes this select",name:"ariaDescribedBy",required:!1,type:{name:"string"}},className:{defaultValue:{value:""},description:"Additional CSS class names",name:"className",required:!1,type:{name:"string"}},disabled:{defaultValue:{value:"false"},description:"Component disabled state",name:"disabled",required:!1,type:{name:"boolean"}}}}}catch{}try{SelectProps.displayName="SelectProps",SelectProps.__docgenInfo={description:"Select component properties",displayName:"SelectProps",props:{}}}catch{}export{x as S};
